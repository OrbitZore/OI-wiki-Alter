### [B.Fun with Stones](https://codeforces.com/gym/103960/problem/B)

#### z3475

##### 标签

数位DP

##### 题意

设$a_1\in[l_1,r_1],a_2\in[l_2,r_2],a_3\in[l_3,r_3]$。求三个数随机取情况下$a_1\ xor\ a_2\ xor\ a_3 \not=0$的概率。

##### 思路

总基本事件空间很容易求出，先求$a_1\ xor\ a_2\ xor\ a_3 =0$的频次。

定义$DP[x][y]$为已经安排$a_1',a_2',a_3'$的$(0,x]$位，$a_k'$是否小于等于$a_k$的所有$(a_1',a_2',a_3')$数量。

转移按照安排$\{0,1\}^3$来思考，因为$a_1',a_2',a_3'$不相关，考虑分开来，列一个真值表。

|上一个不满足小于等于条件?|安排的数|$a_k$第$i$位|现在不满足条件? |
|---|---|---|---|
|0|0|0|0|
|0|0|1|0|
|0|1|0|1|
|0|1|1|0|
|1|0|0|1|
|1|0|1|0|
|1|1|0|1|
|1|1|1|1|

方程参考代码，转移即可。

代码内将真值表化成了最小项like的形式(gn函数)。~~gnk48~~

##### 代码

??? note "参考代码"
    ```cpp
    --8<-- "docs/sol/code/vp/2022Brazil_B.cpp"
    ```